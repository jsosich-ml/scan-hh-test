{"ast":null,"code":"import _slicedToArray from\"/Users/jsosich/Documents/workspaces/scan-hh-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var keycode=require('keycode');var debounce=require('lodash/debounce');function Scanner(_ref){var endScanningEventCode=_ref.endScanningEventCode,parser=_ref.parser,limitSubsequentTime=_ref.limitSubsequentTime;var inputEl=React.useRef(null);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),code=_React$useState2[0],setCode=_React$useState2[1];var returnCode=debounce(function(finalCode){parser(finalCode);},limitSubsequentTime,{leading:true,trailing:false});var handleChange=function handleChange(e){setCode(e.target.value);};var handleSubmit=function handleSubmit(){returnCode(code);setCode('');};var handleKeyUp=function handleKeyUp(e){if(keycode.isEventKey(e,endScanningEventCode)){e.stopPropagation();handleSubmit();}};var handleBlur=function handleBlur(e){inputEl.current.focus();};React.useEffect(function(){inputEl.current.focus();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"code-scanner__input\",ref:inputEl,onChange:handleChange,onKeyUp:handleKeyUp,onBlur:handleBlur,inputMode:\"none\",value:code,type:\"text\"})});}export default Scanner;","map":{"version":3,"names":["React","keycode","require","debounce","Scanner","endScanningEventCode","parser","limitSubsequentTime","inputEl","useRef","useState","code","setCode","returnCode","finalCode","leading","trailing","handleChange","e","target","value","handleSubmit","handleKeyUp","isEventKey","stopPropagation","handleBlur","current","focus","useEffect"],"sources":["/Users/jsosich/Documents/workspaces/scan-hh-test/src/Scanner/Scanner.js"],"sourcesContent":["import React from 'react';\n\nconst keycode = require('keycode');\nconst debounce = require('lodash/debounce');\n\n\nfunction Scanner({ endScanningEventCode, parser, limitSubsequentTime }) {\n  const inputEl = React.useRef(null);\n  const [code, setCode] = React.useState('');\n  \n  const returnCode = debounce((finalCode) => {\n    parser(finalCode);\n  }, limitSubsequentTime, { leading: true, trailing: false });\n\n  const handleChange = (e) => {\n    setCode(e.target.value);\n\n  };\n\n  const handleSubmit = () => {\n    returnCode(code);\n    setCode('');\n  };\n\n  const handleKeyUp = (e) => {\n    if (keycode.isEventKey(e, endScanningEventCode)) {\n      e.stopPropagation();\n      handleSubmit();\n    }\n  };\n\n  const handleBlur = (e) => {\n    inputEl.current.focus();\n  };\n\n  React.useEffect(() => {\n    inputEl.current.focus();\n  }, []);\n\n  \n\n  return (\n    <div>\n      <input\n        className=\"code-scanner__input\"\n        ref={inputEl}\n        onChange={handleChange}\n        onKeyUp={handleKeyUp}\n        onBlur={handleBlur}\n        inputMode=\"none\"\n        value={code}\n        type=\"text\"\n      />\n    </div>\n  );\n}\nexport default Scanner\n\n\n"],"mappings":"sIAAA,MAAOA,MAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,QAAO,CAAGC,OAAO,CAAC,SAAD,CAAvB,CACA,GAAMC,SAAQ,CAAGD,OAAO,CAAC,iBAAD,CAAxB,CAGA,QAASE,QAAT,MAAwE,IAArDC,qBAAqD,MAArDA,oBAAqD,CAA/BC,MAA+B,MAA/BA,MAA+B,CAAvBC,mBAAuB,MAAvBA,mBAAuB,CACtE,GAAMC,QAAO,CAAGR,KAAK,CAACS,MAAN,CAAa,IAAb,CAAhB,CACA,oBAAwBT,KAAK,CAACU,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBAEA,GAAMC,WAAU,CAAGV,QAAQ,CAAC,SAACW,SAAD,CAAe,CACzCR,MAAM,CAACQ,SAAD,CAAN,CACD,CAF0B,CAExBP,mBAFwB,CAEH,CAAEQ,OAAO,CAAE,IAAX,CAAiBC,QAAQ,CAAE,KAA3B,CAFG,CAA3B,CAIA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1BN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CAED,CAHD,CAKA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzBR,UAAU,CAACF,IAAD,CAAV,CACAC,OAAO,CAAC,EAAD,CAAP,CACD,CAHD,CAKA,GAAMU,YAAW,CAAG,QAAdA,YAAc,CAACJ,CAAD,CAAO,CACzB,GAAIjB,OAAO,CAACsB,UAAR,CAAmBL,CAAnB,CAAsBb,oBAAtB,CAAJ,CAAiD,CAC/Ca,CAAC,CAACM,eAAF,GACAH,YAAY,GACb,CACF,CALD,CAOA,GAAMI,WAAU,CAAG,QAAbA,WAAa,CAACP,CAAD,CAAO,CACxBV,OAAO,CAACkB,OAAR,CAAgBC,KAAhB,GACD,CAFD,CAIA3B,KAAK,CAAC4B,SAAN,CAAgB,UAAM,CACpBpB,OAAO,CAACkB,OAAR,CAAgBC,KAAhB,GACD,CAFD,CAEG,EAFH,EAMA,mBACE,kCACE,cACE,SAAS,CAAC,qBADZ,CAEE,GAAG,CAAEnB,OAFP,CAGE,QAAQ,CAAES,YAHZ,CAIE,OAAO,CAAEK,WAJX,CAKE,MAAM,CAAEG,UALV,CAME,SAAS,CAAC,MANZ,CAOE,KAAK,CAAEd,IAPT,CAQE,IAAI,CAAC,MARP,EADF,EADF,CAcD,CACD,cAAeP,QAAf"},"metadata":{},"sourceType":"module"}